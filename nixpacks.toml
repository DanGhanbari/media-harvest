# Railway nixpacks configuration for FFmpeg and yt-dlp support
[phases.setup]
nixPkgs = ['nodejs_18', 'ffmpeg', 'curl', 'python3', 'python3Packages.pip']

[phases.install]
cmds = ['pip3 install --break-system-packages yt-dlp']

[phases.build]
cmds = ['npm ci', 'npm run build']

[phases.start]
cmd = 'node server.js'